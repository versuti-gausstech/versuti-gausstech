<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
  <link rel="stylesheet" href="css/botoes.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" src="js/botoes.js"></script>
</head>

<body style="background-color:#2f3947;">
  <div class="sidenav">
    <a href="pad-3.html" style='font-size:50px;'><i class="fas fa-desktop" title="Home" onclick="goFullScreen();"></i></a>
    <a href="config.php" style='font-size:50px;'><i class="fas fa-cog" title="Configurar"></i></a>
    <a href="logout.php" style='font-size:50px;'><i class="fas fa-sign-out-alt" title="Sair"></i></a>
  </div>
  <div class="main">
    <br>
    <div id="div_central" style="width: 100%; overflow: hidden;text-align: center; vertical-align: middle;color:white;">
      <div class="center" id="div_tela_1" style="background-color:#2f3947;width:30%;text-align: center; vertical-align: middle;border:1px solid white;">
      <b><label id="nome_unidade_1">UNIDADE 1 - PHILIPS</label></b>
      <br><br>
      <table style="width:100%;">
        <tr>
          <td style="text-align: center; vertical-align: middle;">Paciente</td>
          <td style="text-align: center; vertical-align: middle;">Audio</td>
        </tr>
        <tr>
          <td style="text-align: center; vertical-align: middle;">
            <div>
              <label class="switch">
                <input type="checkbox" id="chkIntercom1" onclick="audioIntercom(1)">
                <span class="slider round"></span>
              </label>
            </div>
          </td>
          <td style="text-align: center; vertical-align: middle;">
            <i id="micPaciente1" style='font-size:50px;color:white;' class="fas fa-microphone"></i>
            <i id="bellPaciente1" style='font-size:50px;color:white;' class="fas fa-bell" title="Paciente Chamando"> </i>
          </td>
        </tr>
        <tr>
          <td style="text-align: center; vertical-align: middle;">Enfermagem</td>
          <td></td>
        </tr>
        <tr>
          <td style="text-align: center; vertical-align: middle;">
            <div>
              <label class="switch">
                <input type="checkbox" id="chkEnfermagem1" onclick="audioEnfermagem(1)">
                <span class="slider round"></span>
              </label>
            </div>
          </td>
          <td style="text-align: center; vertical-align: middle;">
            <i id="micEnfermagem1" style='font-size:50px;color:white;' class="fas fa-microphone"></i>
            <i id="bellEnfermagem1" style='font-size:50px;color:white;' class="fas fa-bell" title="Enfermagem Chamando"> </i>
          </td>
        </tr>
        <tr>
          <td></td>
          <td style="text-align: center; vertical-align: middle;">
            <i id="mutar1" style='font-size:50px;color:white;' title="Audio mutado" class="fas fa-volume-mute" onclick="muteSpeaker(1)"></i>
          </td>
        </tr>
  
      </table>

      </div>

      <div class="center" id="div_tela_2" style="background-color:#2f3947;width:30%;text-align: center; vertical-align: middle;border:1px solid white;">
        <b><label id="nome_unidade_2">UNIDADE 2 - GE</label></b>
        <br><br>
        <table style="width:100%;">
          <tr>
            <td style="text-align: center; vertical-align: middle;">Paciente</td>
            <td style="text-align: center; vertical-align: middle;">Audio</td>
          </tr>
          <tr>
            <td style="text-align: center; vertical-align: middle;">
              <div>
                <label class="switch">
                  <input type="checkbox" id="chkIntercom1" onclick="audioIntercom(1)">
                  <span class="slider round"></span>
                </label>
              </div>
            </td>
            <td style="text-align: center; vertical-align: middle;">
              <i id="micPaciente1" style='font-size:50px;color:white;' class="fas fa-microphone"></i>
              <i id="bellPaciente1" style='font-size:50px;color:white;' class="fas fa-bell" title="Paciente Chamando"> </i>
            </td>
          </tr>
          <tr>
            <td style="text-align: center; vertical-align: middle;">Enfermagem</td>
            <td></td>
          </tr>
          <tr>
            <td style="text-align: center; vertical-align: middle;">
              <div>
                <label class="switch">
                  <input type="checkbox" id="chkEnfermagem1" onclick="audioEnfermagem(1)">
                  <span class="slider round"></span>
                </label>
              </div>
            </td>
            <td style="text-align: center; vertical-align: middle;">
              <i id="micEnfermagem1" style='font-size:50px;color:white;' class="fas fa-microphone"></i>
              <i id="bellEnfermagem1" style='font-size:50px;color:white;' class="fas fa-bell" title="Enfermagem Chamando"> </i>
            </td>
          </tr>
          <tr>
            <td></td>
            <td style="text-align: center; vertical-align: middle;">
              <i id="mutar1" style='font-size:50px;color:white;' title="Audio mutado" class="fas fa-volume-mute" onclick="muteSpeaker(1)"></i>
            </td>
          </tr>
    
        </table>
  
      </div>

      <div class="center" id="div_tela_3" style="background-color:#2f3947;width:30%;text-align: center; vertical-align: middle;border:1px solid white;">
        <b><label id="nome_unidade_3">UNIDADE 3 - PHILIPS</label></b>
        <br><br>
        <table style="width:100%;">
          <tr>
            <td style="text-align: center; vertical-align: middle;">Paciente</td>
            <td style="text-align: center; vertical-align: middle;">Audio</td>
          </tr>
          <tr>
            <td style="text-align: center; vertical-align: middle;">
              <div>
                <label class="switch">
                  <input type="checkbox" id="chkIntercom3" onclick="audioIntercom(3)">
                  <span class="slider round"></span>
                </label>
              </div>
            </td>
            <td style="text-align: center; vertical-align: middle;">
              <i id="micPaciente3" style='font-size:50px;color:white;' class="fas fa-microphone"></i>
              <i id="bellPaciente3" style='font-size:50px;color:white;' class="fas fa-bell" title="Paciente Chamando"> </i>
            </td>
          </tr>
          <tr>
            <td style="text-align: center; vertical-align: middle;">Enfermagem</td>
            <td></td>
          </tr>
          <tr>
            <td style="text-align: center; vertical-align: middle;">
              <div>
                <label class="switch">
                  <input type="checkbox" id="chkEnfermagem3" onclick="audioEnfermagem(3)">
                  <span class="slider round"></span>
                </label>
              </div>
            </td>
            <td style="text-align: center; vertical-align: middle;">
              <i id="micEnfermagem3" style='font-size:50px;color:white;' class="fas fa-microphone"></i>
              <i id="bellEnfermagem3" style='font-size:50px;color:white;' class="fas fa-bell" title="Enfermagem Chamando"> </i>
            </td>
          </tr>
          <tr>
            <td></td>
            <td style="text-align: center; vertical-align: middle;">
              <i id="mutar3" style='font-size:50px;color:white;' title="Audio mutado" class="fas fa-volume-mute" onclick="muteSpeaker(3)"></i>
            </td>
          </tr>
    
        </table>
      </div>

    </div>
    <div id="block_container" style="width: 100%; text-align: center; vertical-align: middle;color:white;">
      <div class="center" id="button_container1" style="width: 33%; color:white;border:0px solid rgb(150, 19, 19);">
        <div class="round-button">
          <div class="round-button-circle" style="background-color: cadetblue;"><a href="#" class="round-button" title="Injetar contraste">IC</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle"><a href="#" class="round-button" title="Posicionar paciente">PP</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle"><a href="#" class="round-button" title="Trocar bobina">TB</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle" style="background-color:coral;"><a href="#" class="round-button" title="Intercorrencia">INT</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle" style="background-color:red;"><a href="#" class="round-button" title="Emergencia">E</a></div>
        </div>
      </div>

      <div class="center" id="button_container2" style="width: 33%; color:white;border:0px solid rgb(150, 19, 19);">
        <div class="round-button">
          <div class="round-button-circle" style="background-color: cadetblue;"><a href="#" class="round-button" title="Injetar contraste">IC</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle"><a href="#" class="round-button" title="Posicionar paciente">PP</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle"><a href="#" class="round-button" title="Trocar bobina">TB</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle" style="background-color:coral;"><a href="#" class="round-button" title="Intercorrencia">INT</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle" style="background-color:red;"><a href="#" class="round-button" title="Emergencia">E</a></div>
        </div>
      </div>

      <div class="center" id="button_container3" style="visibility:hidden; width: 33%; color:white;border:0px solid rgb(150, 19, 19);">
        <div class="round-button">
          <div class="round-button-circle" style="background-color: cadetblue;"><a href="#" class="round-button" title="Injetar contraste">IC</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle"><a href="#" class="round-button" title="Posicionar paciente">PP</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle"><a href="#" class="round-button" title="Trocar bobina">TB</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle" style="background-color:coral;"><a href="#" class="round-button" title="Intercorrencia">INT</a></div>
        </div>
        <div class="round-button" style="padding-left:30px;">          
          <div class="round-button-circle" style="background-color:red;"><a href="#" class="round-button" title="Emergencia">E</a></div>
        </div>
      </div>
    </div>
    <br><br>
    <p id="txtIntercom" style="display:none;color:white;">Intercom : paciente ouvindo</p>
    <p id="txtEnfermagem" style="display:none;color:white;">Intercom : enfermagem ouvindo</p>
    <p id="txtStatus" style="display:none;color:white;">Status</p>
  </div>
</body>
<script>
  console.log("loading json file...");
  var response = $.getJSON("json/estacao.json", function(json) {
  console.log(json.tela_1);

  if(json.tela_1.enabled == "true") {  tela_1 = true ; }else{ tela_1 = false};
  if(json.tela_2.enabled == "true") {  tela_2 = true ; }else{ tela_2 = false};
  if(json.tela_3.enabled == "true") {  tela_3 = true ; }else{ tela_3 = false};

  div_tela_1 = document.getElementById("div_tela_1");
  div_tela_2 = document.getElementById("div_tela_2");
  div_tela_3 = document.getElementById("div_tela_3");
  div_central = document.getElementById("div_central");

  botoes_tela_1 = document.getElementById("button_container1");
  botoes_tela_2 = document.getElementById("button_container2");
  botoes_tela_3 = document.getElementById("button_container3");

  nome_unidade_1 = document.getElementById("nome_unidade_1");
  nome_unidade_2 = document.getElementById("nome_unidade_2");
  nome_unidade_3 = document.getElementById("nome_unidade_3");

  nome_unidade_1.innerHTML = json.tela_1.nome_host;
  nome_unidade_2.innerHTML = json.tela_2.nome_host;
  nome_unidade_3.innerHTML = json.tela_3.nome_host;

  if(tela_1){
    console.log("Tela 1 enabled");
    div_tela_1.style.visibility = "";
    botoes_tela_1.style.visibility = "";

  }else{
    console.log("Tela 1 disabled");
    div_tela_1.remove();
    botoes_tela_1.remove();
  }

  if(tela_2){
    console.log("Tela 2 enabled");
    div_tela_2.style.visibility = "";
    botoes_tela_2.style.visibility = "";
  }else{
    console.log("Tela 2 disabled");
    div_tela_2.remove();
    botoes_tela_2.remove();
  }

  if(tela_3){
    console.log("Tela 3 enabled");
    div_tela_3.style.visibility = "";
    botoes_tela_3.style.visibility = "";
  }else{
    console.log("Tela 3 disabled");
    div_tela_3.remove();
    botoes_tela_3.remove();
  }

  if(tela_1 && tela_2 && tela_3){
    console.log("Todas as telas enabled.");

    div_tela_1.style.width = "33%";
    botoes_tela_1.style.width = "33%";

    div_tela_2.style.width = "33%";
    botoes_tela_2.style.width = "33%";

    div_tela_3.style.width = "33%";
    botoes_tela_3.style.width = "33%";
  }
  if(tela_1 && tela_2 && (! tela_3)){
    console.log("Telas 1 e 2 enabled.");

    div_tela_1.style.width = "48%";
    botoes_tela_1.style.width = "50%";

    div_tela_2.style.width = "48%";
    botoes_tela_2.style.width = "50%";

  }
  if(tela_1 && !tela_2 && tela_3){
    console.log("Telas 1 e 3 enabled.");

    div_tela_1.style.width = "45%";
    botoes_tela_1.style.width = "45%";

    div_tela_3.style.width = "45%";
    botoes_tela_3.style.width = "45%";
  }
  if(!tela_1 && tela_2 && tela_3){
    console.log("Telas 2 e 3 enabled.");

    div_tela_2.style.width = "48%";
    botoes_tela_2.style.width = "50%";

    div_tela_3.style.width = "48%";
    botoes_tela_3.style.width = "50%";
  }

  if(tela_1 && !tela_2 && !tela_3){
    console.log("Tela 1 enabled.");
    div_central.style.width = "100%";
    div_tela_1.style.width = "60%";
    
    botoes_tela_1.style.width = "40%";
  }

  if(!tela_1 && tela_2 && !tela_3){
    console.log("Tela 2 enabled.");
    div_tela_2.style.width = "60%";
    botoes_tela_2.style.width = "60%";
  }

  if(!tela_1 && !tela_2 && tela_3){
    console.log("Tela 3 enabled.");
    div_tela_3.style.width = "60%";
    botoes_tela_3.style.width = "60%";
  }
});
</script>
</html>
